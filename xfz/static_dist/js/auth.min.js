function Auth(){this.AuthBoxPosition=$(".auth-group-box"),this.MaskWrapper=$(".mask-wrapper")}Auth.prototype.AuthBoxLeft=function(){var t=this;$(".auth-right").click((function(){var n=t.AuthBoxPosition.css("left");parseInt(n)<0?t.AuthBoxPosition.animate({left:0}):t.AuthBoxPosition.animate({left:-400})}))},Auth.prototype.ShowEvent=function(){this.MaskWrapper.show()},Auth.prototype.HideEvent=function(){this.MaskWrapper.hide()},Auth.prototype.ListenShowHideEvent=function(){var t=this,n=$(".auth-box"),e=$(".close-btn"),i=n.find("a[class='login']"),o=n.find("a[class='signup']");e.click((function(){t.HideEvent(),t.AuthBoxPosition.css({left:0})})),i.click((function(){t.ShowEvent()})),o.click((function(){t.ShowEvent(),t.AuthBoxPosition.css({left:-400})}))},Auth.prototype.ListenloginEvent=function(){var t=this,n=$("#login-btn"),e=n.find("input[name='telephone']"),i=n.find("input[name='password']"),o=n.find("input[name='remember']");n.find("input[id='login-submit']").click((function(){var n=e.val(),a=i.val(),s=o.prop("checked");console.log("ok"),xfzajax.post({url:"/account/login/",data:{telephone:n,password:a,remember:s?1:0},success:function(n){if(200===n.code)t.HideEvent(),window.location.reload();else{var e=n.message;xfzajax.success(e)}},error:function(t){window.messageBox.ShowError("服务器内部错误")}})}))},Auth.prototype.ListenImgCap=function(){var t=$(".img-captcha");t.click((function(){t.attr("src","/account/captcha/?id="+Math.random())}))},Auth.prototype.ListenRegisterEvent=function(){var t=this,n=$("#signup-btn"),e=n.find("input[name='telephone']"),i=n.find("input[name='username']"),o=n.find("input[name='password1']"),a=n.find("input[name='password2']"),s=n.find("input[name='inner-captcha']");n.find("input[id='signup-submit']").click((function(){var n=e.val(),c=i.val(),u=o.val(),r=a.val(),p=s.val();xfzajax.post({url:"/account/register/",data:{telephone:n,username:c,password1:u,password2:r,img_captcha:p},success:function(n){if(200===n.code)t.HideEvent(),window.messageBox.Success("登录成功!"),window.location.reload();else{var e=n.message;xfzajax.success(e)}},error:function(t){window.messageBox.ShowError("服务器内部错误")}})}))},$((function(){var t=new Auth;t.ListenShowHideEvent(),t.AuthBoxLeft(),t.ListenloginEvent(),t.ListenImgCap(),t.ListenRegisterEvent()}));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGguanMiXSwibmFtZXMiOlsiQXV0aCIsInRoaXMiLCJBdXRoQm94UG9zaXRpb24iLCIkIiwiTWFza1dyYXBwZXIiLCJwcm90b3R5cGUiLCJBdXRoQm94TGVmdCIsInNlbGYiLCJjbGljayIsImxlZnRweCIsImNzcyIsInBhcnNlSW50IiwiYW5pbWF0ZSIsImxlZnQiLCJTaG93RXZlbnQiLCJzaG93IiwiSGlkZUV2ZW50IiwiaGlkZSIsIkxpc3RlblNob3dIaWRlRXZlbnQiLCJhdXRoYm94IiwiY2xvc2UiLCJsb2dpbl9idG4iLCJmaW5kIiwic2lnbnVwX2J0biIsIkxpc3RlbmxvZ2luRXZlbnQiLCJMb2dpblNlbGVjdG9yIiwiVGVsZXBob25lSW5wdXQiLCJQYXNzd29yZElucHV0IiwiUmVtZW1iZXIiLCJ0ZWxlcGhvbmUiLCJ2YWwiLCJwYXNzd29yZCIsInJlbWVtYmVyIiwicHJvcCIsImNvbnNvbGUiLCJsb2ciLCJ4ZnphamF4IiwicG9zdCIsInVybCIsImRhdGEiLCJzdWNjZXNzIiwicmVzdWx0Iiwid2luZG93IiwibG9jYXRpb24iLCJyZWxvYWQiLCJlcnJvcl9tZXNzYWdlcyIsImVycm9yIiwibWVzc2FnZUJveCIsIlNob3dFcnJvciIsIkxpc3RlbkltZ0NhcCIsImltZ19jYXAiLCJhdHRyIiwiTWF0aCIsInJhbmRvbSIsIkxpc3RlblJlZ2lzdGVyRXZlbnQiLCJTaWdudXBTZWxlY3RvciIsIlVzZXJuYW1lSW5wdXQiLCJQYXNzd29yZDFJbnB1dCIsIlBhc3N3b3JkMklucHV0IiwiSW1nQ2FwdGNoYUlucHV0IiwidXNlcm5hbWUiLCJwYXNzd29yZDEiLCJwYXNzd29yZDIiLCJpbWdfY2FwdGNoYSIsIlN1Y2Nlc3MiLCJhdXRoIl0sIm1hcHBpbmdzIjoiQUFBQSxTQUFTQSxPQUNMQyxLQUFLQyxnQkFBa0JDLEVBQUUsbUJBQ3pCRixLQUFLRyxZQUFjRCxFQUFFLGlCQWdCekJILEtBQUtLLFVBQVVDLFlBQWMsV0FDekIsSUFBSUMsRUFBT04sS0FF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QUNFLElBQUk4RCxFQUFPLElBQUlqRSxLQUNmaUUsRUFBSy9DLHNCQUNMK0MsRUFBSzNELGNBQ0wyRCxFQUFLekMsbUJBQ0x5QyxFQUFLaEIsZUFDTGdCLEVBQUtYIiwiZmlsZSI6ImF1dGgubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gQXV0aCgpIHtcbiAgICB0aGlzLkF1dGhCb3hQb3NpdGlvbiA9ICQoJy5hdXRoLWdyb3VwLWJveCcpO1xuICAgIHRoaXMuTWFza1dyYXBwZXIgPSAkKCcubWFzay13cmFwcGVyJyk7XG59XG5cbi8vIEF1dGgucHJvdG90eXBlLk1hc2tXcmFwcGVyQ29udHJvbCA9IGZ1bmN0aW9uICgpIHtcbi8vICAgICB2YXIgc2VsZiA9IHRoaXM7XG4vL1xuLy8gICAgICQoJyNidG4nKS5jbGljayhmdW5jdGlvbiAoKSB7XG4vLyAgICAgICAgJCgnLm1hc2std3JhcHBlcicpLnNob3coKTtcbi8vICAgICB9KTtcbi8vXG4vLyAgICAgJCgnLmNsb3NlLWJ0bicpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbi8vICAgICAgICAgJCgnLm1hc2std3JhcHBlcicpLmhpZGUoKTtcbi8vICAgICAgICAgc2VsZi5BdXRoQm94UG9zaXRpb24uY3NzKHsnbGVmdCc6MH0pO1xuLy8gICAgIH0pO1xuLy8gfTtcblxuQXV0aC5wcm90b3R5cGUuQXV0aEJveExlZnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgJCgnLmF1dGgtcmlnaHQnKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBsZWZ0cHggPSBzZWxmLkF1dGhCb3hQb3NpdGlvbi5jc3MoJ2xlZnQnKTtcbiAgICAgICAgdmFyIEludGxlZnRweCA9IHBhcnNlSW50KGxlZnRweCk7XG5cbiAgICAgICAgaWYgKEludGxlZnRweCA8IDApIHtcbiAgICAgICAgICAgIHNlbGYuQXV0aEJveFBvc2l0aW9uLmFuaW1hdGUoeydsZWZ0JzogMH0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZWxmLkF1dGhCb3hQb3NpdGlvbi5hbmltYXRlKHsnbGVmdCc6IC00MDB9KTtcbiAgICAgICAgfVxuICAgIH0pXG5cbn07XG5cbkF1dGgucHJvdG90eXBlLlNob3dFdmVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgc2VsZi5NYXNrV3JhcHBlci5zaG93KCk7XG59O1xuXG5BdXRoLnByb3RvdHlwZS5IaWRlRXZlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHNlbGYuTWFza1dyYXBwZXIuaGlkZSgpO1xufTtcblxuQXV0aC5wcm90b3R5cGUuTGlzdGVuU2hvd0hpZGVFdmVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIGF1dGhib3ggPSAkKCcuYXV0aC1ib3gnKTtcbiAgICB2YXIgY2xvc2UgPSAkKCcuY2xvc2UtYnRuJyk7XG4gICAgdmFyIGxvZ2luX2J0biA9IGF1dGhib3guZmluZChcImFbY2xhc3M9J2xvZ2luJ11cIik7XG4gICAgdmFyIHNpZ251cF9idG4gPSBhdXRoYm94LmZpbmQoXCJhW2NsYXNzPSdzaWdudXAnXVwiKTtcbiAgICBjbG9zZS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNlbGYuSGlkZUV2ZW50KCk7XG4gICAgICAgIHNlbGYuQXV0aEJveFBvc2l0aW9uLmNzcyh7J2xlZnQnOiAwfSk7XG4gICAgfSk7XG5cbiAgICBsb2dpbl9idG4uY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICBzZWxmLlNob3dFdmVudCgpO1xuICAgIH0pO1xuXG4gICAgc2lnbnVwX2J0bi5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNlbGYuU2hvd0V2ZW50KCk7XG4gICAgICAgIHNlbGYuQXV0aEJveFBvc2l0aW9uLmNzcyh7J2xlZnQnOiAtNDAwfSk7XG4gICAgfSk7XG59O1xuXG5BdXRoLnByb3RvdHlwZS5MaXN0ZW5sb2dpbkV2ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgTG9naW5TZWxlY3RvciA9ICQoJyNsb2dpbi1idG4nKTtcbiAgICB2YXIgVGVsZXBob25lSW5wdXQgPSBMb2dpblNlbGVjdG9yLmZpbmQoXCJpbnB1dFtuYW1lPSd0ZWxlcGhvbmUnXVwiKTtcbiAgICB2YXIgUGFzc3dvcmRJbnB1dCA9IExvZ2luU2VsZWN0b3IuZmluZChcImlucHV0W25hbWU9J3Bhc3N3b3JkJ11cIik7XG4gICAgdmFyIFJlbWVtYmVyID0gTG9naW5TZWxlY3Rvci5maW5kKFwiaW5wdXRbbmFtZT0ncmVtZW1iZXInXVwiKTtcbiAgICB2YXIgU3VibWl0QnRuID0gTG9naW5TZWxlY3Rvci5maW5kKFwiaW5wdXRbaWQ9J2xvZ2luLXN1Ym1pdCddXCIpO1xuICAgIFN1Ym1pdEJ0bi5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB0ZWxlcGhvbmUgPSBUZWxlcGhvbmVJbnB1dC52YWwoKTtcbiAgICAgICAgdmFyIHBhc3N3b3JkID0gUGFzc3dvcmRJbnB1dC52YWwoKTtcbiAgICAgICAgdmFyIHJlbWVtYmVyID0gUmVtZW1iZXIucHJvcCgnY2hlY2tlZCcpO1xuICAgICAgICBjb25zb2xlLmxvZygnb2snKTtcbiAgICAgICAgeGZ6YWpheC5wb3N0KHtcbiAgICAgICAgICAgICd1cmwnOiAnL2FjY291bnQvbG9naW4vJyxcbiAgICAgICAgICAgICdkYXRhJzoge1xuICAgICAgICAgICAgICAgICd0ZWxlcGhvbmUnOiB0ZWxlcGhvbmUsXG4gICAgICAgICAgICAgICAgJ3Bhc3N3b3JkJzogcGFzc3dvcmQsXG4gICAgICAgICAgICAgICAgJ3JlbWVtYmVyJzogcmVtZW1iZXIgPyAxIDogMFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICdzdWNjZXNzJzogZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHRbJ2NvZGUnXSA9PT0gMjAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuSGlkZUV2ZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZXJyb3JfbWVzc2FnZXMgPSByZXN1bHRbJ21lc3NhZ2UnXTtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgKHR5cGVvZiBlcnJvcl9tZXNzYWdlcyA9PSAnc3RyaW5nJyB8fFxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgZXJyb3JfbWVzc2FnZXMuY29uc3RydWN0b3IgPT0gU3RyaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAvLyB3aW5kb3cubWVzc2FnZUJveC5MaXN0ZW5TaG93RXZlbnQoZXJyb3JfbWVzc2FnZXMpO1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgd2luZG93Lm1lc3NhZ2VCb3guU2hvd0Vycm9yKGVycm9yX21lc3NhZ2VzKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGZvciAodmFyIHZhbHVlIGluIGVycm9yX21lc3NhZ2VzKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgbXNnID0gZXJyb3JfbWVzc2FnZXNbdmFsdWVdO1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIHdpbmRvdy5tZXNzYWdlQm94LlNob3dFcnJvcihtc2dbMF0pO1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIGNvbnNvbGUubG9nKCdvaycpXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICAgICAgeGZ6YWpheC5zdWNjZXNzKGVycm9yX21lc3NhZ2VzKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAnZXJyb3InOiBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cubWVzc2FnZUJveC5TaG93RXJyb3IoJ+acjeWKoeWZqOWGhemDqOmUmeivrycpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfSlcblxufTtcblxuQXV0aC5wcm90b3R5cGUuTGlzdGVuSW1nQ2FwID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgaW1nX2NhcCA9ICQoJy5pbWctY2FwdGNoYScpO1xuICAgIGltZ19jYXAuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICBpbWdfY2FwLmF0dHIoJ3NyYycsICcvYWNjb3VudC9jYXB0Y2hhLycgKyAnP2lkPScgKyBNYXRoLnJhbmRvbSgpKVxuICAgIH0pXG59O1xuXG5BdXRoLnByb3RvdHlwZS5MaXN0ZW5SZWdpc3RlckV2ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgU2lnbnVwU2VsZWN0b3IgPSAkKCcjc2lnbnVwLWJ0bicpO1xuICAgIHZhciBUZWxlcGhvbmVJbnB1dCA9IFNpZ251cFNlbGVjdG9yLmZpbmQoXCJpbnB1dFtuYW1lPSd0ZWxlcGhvbmUnXVwiKTtcbiAgICB2YXIgVXNlcm5hbWVJbnB1dCA9IFNpZ251cFNlbGVjdG9yLmZpbmQoXCJpbnB1dFtuYW1lPSd1c2VybmFtZSddXCIpO1xuICAgIHZhciBQYXNzd29yZDFJbnB1dCA9IFNpZ251cFNlbGVjdG9yLmZpbmQoXCJpbnB1dFtuYW1lPSdwYXNzd29yZDEnXVwiKTtcbiAgICB2YXIgUGFzc3dvcmQySW5wdXQgPSBTaWdudXBTZWxlY3Rvci5maW5kKFwiaW5wdXRbbmFtZT0ncGFzc3dvcmQyJ11cIik7XG4gICAgdmFyIEltZ0NhcHRjaGFJbnB1dCA9IFNpZ251cFNlbGVjdG9yLmZpbmQoXCJpbnB1dFtuYW1lPSdpbm5lci1jYXB0Y2hhJ11cIik7XG4gICAgdmFyIHN1Ym1pdGJ0biA9IFNpZ251cFNlbGVjdG9yLmZpbmQoXCJpbnB1dFtpZD0nc2lnbnVwLXN1Ym1pdCddXCIpO1xuXG4gICAgc3VibWl0YnRuLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHRlbGVwaG9uZSA9IFRlbGVwaG9uZUlucHV0LnZhbCgpO1xuICAgICAgICB2YXIgdXNlcm5hbWUgPSBVc2VybmFtZUlucHV0LnZhbCgpO1xuICAgICAgICB2YXIgcGFzc3dvcmQxID0gUGFzc3dvcmQxSW5wdXQudmFsKCk7XG4gICAgICAgIHZhciBwYXNzd29yZDIgPSBQYXNzd29yZDJJbnB1dC52YWwoKTtcbiAgICAgICAgdmFyIGltZ19jYXB0Y2hhID0gSW1nQ2FwdGNoYUlucHV0LnZhbCgpO1xuICAgICAgICB4ZnphamF4LnBvc3Qoe1xuICAgICAgICAgICAgJ3VybCc6ICcvYWNjb3VudC9yZWdpc3Rlci8nLFxuICAgICAgICAgICAgJ2RhdGEnOiB7XG4gICAgICAgICAgICAgICAgJ3RlbGVwaG9uZSc6IHRlbGVwaG9uZSxcbiAgICAgICAgICAgICAgICAndXNlcm5hbWUnOiB1c2VybmFtZSxcbiAgICAgICAgICAgICAgICAncGFzc3dvcmQxJzogcGFzc3dvcmQxLFxuICAgICAgICAgICAgICAgICdwYXNzd29yZDInOiBwYXNzd29yZDIsXG4gICAgICAgICAgICAgICAgJ2ltZ19jYXB0Y2hhJzogaW1nX2NhcHRjaGFcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAnc3VjY2Vzcyc6IGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0Wydjb2RlJ10gPT09IDIwMCkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLkhpZGVFdmVudCgpO1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubWVzc2FnZUJveC5TdWNjZXNzKCfnmbvlvZXmiJDlip8hJyk7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZXJyb3JfbWVzc2FnZXMgPSByZXN1bHRbJ21lc3NhZ2UnXTtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgKHR5cGVvZiBlcnJvcl9tZXNzYWdlcyA9PSAnc3RyaW5nJyB8fFxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgZXJyb3JfbWVzc2FnZXMuY29uc3RydWN0b3IgPT0gU3RyaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAvLyB3aW5kb3cubWVzc2FnZUJveC5MaXN0ZW5TaG93RXZlbnQoZXJyb3JfbWVzc2FnZXMpO1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgd2luZG93Lm1lc3NhZ2VCb3guU2hvd0Vycm9yKGVycm9yX21lc3NhZ2VzKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGZvciAodmFyIHZhbHVlIGluIGVycm9yX21lc3NhZ2VzKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgbXNnID0gZXJyb3JfbWVzc2FnZXNbdmFsdWVdO1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIHdpbmRvdy5tZXNzYWdlQm94LlNob3dFcnJvcihtc2dbMF0pO1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAgICAgICAgIHhmemFqYXguc3VjY2VzcyhlcnJvcl9tZXNzYWdlcylcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgJ2Vycm9yJzogZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgd2luZG93Lm1lc3NhZ2VCb3guU2hvd0Vycm9yKCfmnI3liqHlmajlhoXpg6jplJnor68nKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0pXG4gICAgfSlcbn07XG5cblxuJChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGF1dGggPSBuZXcgQXV0aCgpO1xuICAgIGF1dGguTGlzdGVuU2hvd0hpZGVFdmVudCgpO1xuICAgIGF1dGguQXV0aEJveExlZnQoKTtcbiAgICBhdXRoLkxpc3RlbmxvZ2luRXZlbnQoKTtcbiAgICBhdXRoLkxpc3RlbkltZ0NhcCgpO1xuICAgIGF1dGguTGlzdGVuUmVnaXN0ZXJFdmVudCgpO1xufSk7XG5cblxuIl19
